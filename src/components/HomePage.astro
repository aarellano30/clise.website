---
import { Image } from 'astro:assets';
import { useTranslations, getLocalePath } from '../i18n/utils';
import type { Locale } from '../i18n/utils';
import bannerEmblems from '../assets/images/home/banner-vertical-crop.webp';
import bannerMobile from '../assets/images/home/banner-double-cropped.webp';
import textilesImg from '../assets/images/home/textiles0.webp';
import sportsImg from '../assets/images/home/sports0.webp';
import promoImg from '../assets/images/home/promo0.webp';
import autoImg from '../assets/images/home/auto0.webp';
import avatar1 from '../assets/images/avatars/avatar-1.webp';
import avatar2 from '../assets/images/avatars/avatar-2.webp';
import avatar3 from '../assets/images/avatars/avatar-3.webp';
import avatar4 from '../assets/images/avatars/avatar-4.webp';
import avatar5 from '../assets/images/avatars/avatar-5.webp';
import avatar6 from '../assets/images/avatars/avatar-6.webp';
import avatar7 from '../assets/images/avatars/avatar-7.webp';
import avatar8 from '../assets/images/avatars/avatar-8.webp';

const lang = (Astro.currentLocale || 'es') as Locale;
const t = useTranslations(lang);
const contactPath = getLocalePath(lang, 'contact');
const productsPath = getLocalePath(lang, 'products');
---

<!-- Hero Section -->
<div class="relative isolate bg-gray-900">
	<div aria-hidden="true" class="absolute inset-x-0 -top-3 -z-10 transform-gpu overflow-hidden px-36 blur-3xl">
		<div style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)" class="mx-auto aspect-1155/678 w-288.75 bg-linear-to-tr from-[#80b5ff] to-[#6366f1] opacity-20"></div>
	</div>
	<div class="mx-auto max-w-7xl px-6 pt-16 sm:pt-24 lg:px-8">
		<!-- Mobile: title → video → text → CTAs. Desktop: [title | text+CTAs] → video -->
		<div class="grid gap-8 lg:grid-cols-[2fr_3fr] lg:items-start">
			<h1 class="fade-in text-4xl font-semibold tracking-tight text-balance text-white sm:text-5xl lg:text-6xl">
				{t('hero.title')}
			</h1>

			<!-- Video -->
			<div class="-mx-6 relative aspect-video w-auto overflow-hidden shadow-2xl lg:mx-0 lg:rounded-3xl lg:ring-1 lg:ring-white/10 lg:col-span-2 lg:row-start-2 lg:mt-8">
				<video
					class="h-full w-full object-cover"
					autoplay
					muted
					loop
					playsinline
					poster="/videos/trimflex-spider-padel-poster.webp"
				>
					<source src="/videos/trimflex-spider-padel.mp4" type="video/mp4" />
				</video>
			</div>

			<div class="lg:row-start-1 lg:col-start-2">
				<div class="fade-in fade-in-delay-100 space-y-4 text-lg/8 text-gray-300">
					{t('hero.description').split('\n\n').map((p) => <p>{p}</p>)}
				</div>
				<div class="fade-in fade-in-delay-200 mt-10 flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-x-6">
					<a href={contactPath} class="rounded-md bg-indigo-800 px-5 py-4 sm:py-3 text-center text-base font-medium text-white hover:bg-indigo-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-800 transition-colors">
						{t('cta.getQuote')}
					</a>
					<a href={productsPath} class="rounded-md px-5 py-4 sm:py-3 text-center text-base font-medium text-white ring-1 ring-white/20 hover:bg-white/10 transition-colors">
						{t('cta.viewWork')}
					</a>
				</div>
			</div>

			<!-- Facepile -->
			<div class="fade-in fade-in-delay-300 mt-12 flex flex-col items-center gap-y-3 sm:flex-row sm:justify-center sm:gap-x-4 lg:col-span-2">
				<div class="flex -space-x-3">
					<Image src={avatar1} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar2} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar3} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar4} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar5} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar6} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar7} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
					<Image src={avatar8} alt="Cliente satisfecho" class="inline-block size-12 sm:size-14 rounded-full ring-2 ring-gray-900" />
				</div>
				<p class="text-base font-medium text-gray-300">{t('home.facepile')}</p>
			</div>

			<!-- Banner -->
			<div class="relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen overflow-hidden mt-12 lg:col-span-2">
				<Image src={bannerMobile} alt="Clise emblems" widths={[640]} sizes="100vw" class="block w-full object-cover sm:hidden" loading="lazy" />
				<Image src={bannerEmblems} alt="Clise emblems" widths={[640, 1280]} sizes="100vw" class="hidden w-full object-cover sm:block" loading="lazy" />
			</div>
		</div>
	</div>
</div>

<!-- Bento Grid Section -->
<div class="bg-gray-900 py-24 sm:py-32">
	<div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
		<h2 class="fade-in text-base/7 font-semibold text-indigo-500">{t('home.applications.label')}</h2>
		<p class="fade-in fade-in-delay-100 mt-2 max-w-2xl text-4xl font-semibold tracking-tight text-balance text-white sm:text-5xl">{t('home.applications.title')}</p>
		<p class="fade-in fade-in-delay-200 mt-8 max-w-2xl text-lg/8 text-gray-300">{t('home.applications.description')}</p>
		<div class="mt-10 grid gap-4 sm:mt-16 lg:grid-cols-3 lg:grid-rows-2">
			<div class="relative lg:row-span-2">
				<div class="absolute inset-px rounded-lg bg-gray-800 lg:rounded-l-4xl"></div>
				<div class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)] lg:rounded-l-[calc(2rem+1px)]">
					<Image src={textilesImg} alt="Textiles" widths={[400, 800]} sizes="(max-width: 1024px) 100vw, 33vw" class="absolute inset-0 size-full object-cover" loading="lazy" />
					<div class="absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/60 to-transparent"></div>
					<div class="relative px-8 pt-8 pb-3 sm:px-10 sm:pt-10 sm:pb-0">
						<p class="mt-2 text-lg font-medium tracking-tight text-white max-lg:text-center flex items-center max-lg:justify-center gap-2">
							<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-12 pb-1 text-indigo-500">
								<path d="m20.11 4.78-2.54-1.13A7.6 7.6 0 0 0 14.5 3c-.28 0-.5.22-.5.5 0 1.1-.9 2-2 2s-2-.9-2-2c0-.28-.22-.5-.5-.5-1.06 0-2.1.22-3.07.65L3.89 4.78c-.54.24-.89.78-.89 1.37V9.5c0 .83.67 1.5 1.5 1.5H6v8.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V11h1.5c.83 0 1.5-.67 1.5-1.5V6.15c0-.59-.35-1.13-.89-1.37M20 9.5c0 .28-.22.5-.5.5h-2c-.28 0-.5.22-.5.5v9c0 .28-.22.5-.5.5h-9c-.28 0-.5-.22-.5-.5v-9c0-.28-.22-.5-.5-.5h-2c-.28 0-.5-.22-.5-.5V6.15c0-.2.12-.38.3-.46l2.54-1.13c.71-.31 1.45-.5 2.21-.55.25 1.41 1.48 2.48 2.96 2.48s2.71-1.08 2.96-2.48c.76.05 1.51.24 2.21.55l2.54 1.13c.18.08.3.26.3.46V9.5Z"></path>
							</svg>
							{t('home.bento.textiles')}
						</p>
						<p class="mt-2 max-w-lg text-sm/6 text-gray-300 max-lg:text-center">{t('home.bento.textiles.description')}</p>
					</div>
					<div class="relative min-h-120 w-full grow"></div>
				</div>
				<div class="pointer-events-none absolute inset-px rounded-lg shadow-sm outline outline-white/15 lg:rounded-l-4xl"></div>
			</div>
			<div class="relative max-lg:row-start-1">
				<div class="absolute inset-px rounded-lg bg-gray-800 max-lg:rounded-t-4xl"></div>
				<div class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)]">
					<Image src={promoImg} alt="Promotional items" widths={[400, 800]} sizes="(max-width: 1024px) 100vw, 33vw" class="absolute inset-0 size-full object-cover" loading="lazy" />
					<div class="absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/60 to-transparent"></div>
					<div class="relative px-8 pt-8 sm:px-10 sm:pt-10">
						<p class="mt-2 text-lg font-medium tracking-tight text-white max-lg:text-center flex items-center max-lg:justify-center gap-2">
							<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-12 pb-1 text-indigo-500">
								<path d="m19,8h-1.01c.3-.45.51-1.07.51-2,0-1.65-1.35-3-3-3-1.83,0-2.92,2.1-3.5,3.7-.57-1.59-1.67-3.7-3.5-3.7-1.65,0-3,1.35-3,3,0,.93.21,1.55.51,2h-1.01c-1.1,0-2,.9-2,2s.9,2,2,2v6.5c0,1.38,1.12,2.5,2.5,2.5h9c1.38,0,2.5-1.12,2.5-2.5v-6.5c1.1,0,2-.9,2-2s-.9-2-2-2Zm-3.5-4c1.1,0,2,.9,2,2,0,1.79-.86,2-1.5,2h-3.37c.4-1.5,1.38-4,2.87-4Zm-9,2c0-1.1.9-2,2-2,1.48,0,2.46,2.5,2.87,4h-3.37c-.64,0-1.5-.21-1.5-2Zm-2.5,4c0-.55.45-1,1-1h6.5v2h-6.5c-.55,0-1-.45-1-1Zm2,8.5v-6.5h5.5v8h-4c-.83,0-1.5-.67-1.5-1.5Zm12,0c0,.83-.67,1.5-1.5,1.5h-4v-8s5.5,0,5.5,0v6.5Zm1-7.5h-6.51v-2s6.51,0,6.51,0c.55,0,1,.45,1,1s-.45,1-1,1Z"></path>
							</svg>
							{t('home.bento.promotional')}
						</p>
						<p class="mt-2 max-w-lg text-sm/6 text-gray-300 max-lg:text-center">{t('home.bento.promotional.description')}</p>
					</div>
					<div class="relative min-h-64 w-full grow"></div>
				</div>
				<div class="pointer-events-none absolute inset-px rounded-lg shadow-sm outline outline-white/15 max-lg:rounded-t-4xl"></div>
			</div>
			<div class="relative max-lg:row-start-3 lg:col-start-2 lg:row-start-2">
				<div class="absolute inset-px rounded-lg bg-gray-800"></div>
				<div class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)]">
					<Image src={autoImg} alt="Automotive" widths={[400, 800]} sizes="(max-width: 1024px) 100vw, 33vw" class="absolute inset-0 size-full object-cover" loading="lazy" />
					<div class="absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/20 to-transparent"></div>
					<div class="relative px-8 pt-8 sm:px-10 sm:pt-10">
						<p class="mt-2 text-lg font-medium tracking-tight text-white max-lg:text-center flex items-center max-lg:justify-center gap-2">
							<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-12 pb-1 text-indigo-500">
								<path d="M6.5 12A1.5 1.5 0 1 0 6.5 15 1.5 1.5 0 1 0 6.5 12z"></path><path d="M17.5 12A1.5 1.5 0 1 0 17.5 15 1.5 1.5 0 1 0 17.5 12z"></path><path d="m19.95,10.25l-.9-3.6c-.39-1.56-1.79-2.65-3.4-2.65h-7.32c-1.61,0-3.01,1.09-3.4,2.65l-.9,3.6c-.62.34-1.05.99-1.05,1.75v3c0,.74.41,1.38,1,1.72v2.28c0,.55.45,1,1,1h1c.55,0,1-.45,1-1v-2h10v2c0,.55.45,1,1,1h1c.55,0,1-.45,1-1v-2.28c.59-.35,1-.98,1-1.72v-3c0-.76-.43-1.41-1.05-1.75Zm-14.04-3.36c.28-1.11,1.28-1.89,2.43-1.89h7.32c1.15,0,2.15.78,2.43,1.89l.78,3.11H5.14l.78-3.11Zm14.08,8.11c0,.55-.45,1-1,1H5c-.55,0-1-.45-1-1v-3c0-.55.45-1,1-1h14c.55,0,1,.45,1,1v3Z"></path>
							</svg>
							{t('home.bento.automotive')}
						</p>
						<p class="mt-2 max-w-lg text-sm/6 text-gray-300 max-lg:text-center">{t('home.bento.automotive.description')}</p>
					</div>
					<div class="relative min-h-64 w-full grow"></div>
				</div>
				<div class="pointer-events-none absolute inset-px rounded-lg shadow-sm outline outline-white/15"></div>
			</div>
			<div class="relative lg:row-span-2">
				<div class="absolute inset-px rounded-lg bg-gray-800 max-lg:rounded-b-4xl lg:rounded-r-4xl"></div>
				<div class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)] max-lg:rounded-b-[calc(2rem+1px)] lg:rounded-r-[calc(2rem+1px)]">
					<Image src={sportsImg} alt="Sports teams" widths={[400, 800]} sizes="(max-width: 1024px) 100vw, 33vw" class="absolute inset-0 size-full object-cover" loading="lazy" />
					<div class="absolute inset-0 bg-gradient-to-b from-gray-900/60 via-gray-900/20 to-transparent"></div>
					<div class="relative px-8 pt-8 pb-3 sm:px-10 sm:pt-10 sm:pb-0">
						<p class="mt-2 text-lg font-medium tracking-tight text-white max-lg:text-center flex items-center max-lg:justify-center gap-2">
							<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-12 pb-1 text-indigo-500">
								<path d="M3.52 20.12c.04.18.18.32.36.36.15.04 1.74.42 3.92.42.43 0 .88-.02 1.34-.06 2.62-.2 5.74-1.03 8.2-3.5 2.46-2.46 3.3-5.58 3.49-8.2.21-2.84-.32-5.09-.36-5.26a.47.47 0 0 0-.36-.36c-.34-.09-8.33-2.02-13.48 3.13-2.46 2.47-3.3 5.59-3.5 8.2-.21 2.84.32 5.09.37 5.26Zm.91-.54c-.12-.59-.34-2-.3-3.75l4.05 4.05c-1.74.04-3.16-.18-3.75-.3M19.59 4.42c.11.59.34 2 .3 3.75l-4.05-4.05c1.75-.04 3.16.18 3.75.3M7.37 7.35c2.1-2.11 4.79-2.91 7.14-3.15l5.3 5.3c-.24 2.35-1.05 5.04-3.15 7.14s-4.79 2.91-7.14 3.15l-5.3-5.3c.24-2.35 1.05-5.04 3.15-7.14"></path><path d="M8.15 15.85a.485.485 0 0 0 .7 0L10 14.7l1.15 1.15a.485.485 0 0 0 .7 0c.2-.2.2-.51 0-.71l-1.15-1.15 1.29-1.29 1.15 1.15a.485.485 0 0 0 .7 0c.2-.2.2-.51 0-.71l-1.15-1.15 1.29-1.29 1.15 1.15a.485.485 0 0 0 .7 0c.2-.2.2-.51 0-.71l-1.15-1.15 1.15-1.15c.2-.2.2-.51 0-.71s-.51-.2-.71 0l-1.15 1.15-1.15-1.15c-.2-.2-.51-.2-.71 0s-.2.51 0 .71l1.15 1.15-1.29 1.29-1.15-1.15c-.2-.2-.51-.2-.71 0s-.2.51 0 .71l1.15 1.15-1.29 1.29-1.15-1.15c-.2-.2-.51-.2-.71 0s-.2.51 0 .71l1.15 1.15-1.15 1.15c-.2.2-.2.51 0 .71Z"></path>
							</svg>
							{t('home.bento.sports')}
						</p>
						<p class="mt-2 max-w-lg text-sm/6 text-gray-300 max-lg:text-center">{t('home.bento.sports.description')}</p>
					</div>
					<div class="relative min-h-120 w-full grow"></div>
				</div>
				<div class="pointer-events-none absolute inset-px rounded-lg shadow-sm outline outline-white/15 max-lg:rounded-b-4xl lg:rounded-r-4xl"></div>
			</div>
		</div>
	</div>
</div>

<!-- CTA -->
<div class="bg-gray-900 pb-24 sm:pb-32">
	<div class="mx-auto max-w-7xl px-6 lg:px-8">
	<div class="fade-in rounded-3xl bg-gray-700/10 backdrop-blur-md px-8 py-16 ring-1 ring-gray-500/20 text-center sm:px-16"> 
			<h2 class="text-3xl font-semibold tracking-tight text-white sm:text-4xl">
				{t('about.cta.heading')}
			</h2>
			<p class="mt-4 text-lg/8 text-gray-300">
				{t('about.cta.subtitle')}
			</p>
			<a
				href={contactPath}
				class="mt-8 inline-flex items-center rounded-md bg-indigo-800 px-6 py-3 text-base font-medium text-white hover:bg-indigo-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-800 transition-colors"
			>
				{t('cta.getQuote')}
			</a>
		</div>
	</div>
</div>
