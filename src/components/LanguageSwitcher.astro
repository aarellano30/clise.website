---
import { getAlternatePath } from '../i18n/utils';
import type { Locale } from '../i18n/utils';

const lang = (Astro.currentLocale || 'es') as Locale;
const currentPath = Astro.url.pathname;

const esPath = lang === 'es' ? currentPath : getAlternatePath(currentPath, 'es');
const enPath = lang === 'en' ? currentPath : getAlternatePath(currentPath, 'en');
---

<div class="flex items-center gap-2 text-sm font-medium">
	<svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
		<path d="m12,3C7.04,3,3,7.04,3,12s4.04,9,9,9,9-4.04,9-9S16.96,3,12,3Zm7.97,8.5h-3.99c-.07-3.13-.78-5.74-1.87-7.21,3.23.89,5.64,3.75,5.86,7.21Zm-7.97,8.5c-1.37,0-2.88-3.06-2.99-7.5h5.98c-.11,4.44-1.62,7.5-2.99,7.5Zm-2.99-8.5c.11-4.44,1.62-7.5,2.99-7.5s2.88,3.06,2.99,7.5h-5.98Zm.87-7.21c-1.09,1.47-1.8,4.08-1.87,7.21h-3.99c.22-3.46,2.63-6.32,5.86-7.21Zm-5.86,8.21h3.99c.07,3.13.78,5.74,1.87,7.21-3.23-.89-5.64-3.75-5.86-7.21Zm10.09,7.21c1.09-1.47,1.8-4.08,1.87-7.21h3.99c-.22,3.46-2.63,6.32-5.86,7.21Z"></path>
	</svg>
	<a
		href={esPath}
		class={lang === 'es' ? 'text-indigo-500' : 'text-gray-400 hover:text-gray-300'}
		aria-label="EspaÃ±ol"
	>
		ES
	</a>
	<span class="h-4 w-px bg-gray-600"></span>
	<a
		href={enPath}
		class={lang === 'en' ? 'text-indigo-500' : 'text-gray-400 hover:text-gray-300'}
		aria-label="English"
	>
		EN
	</a>
</div>
